<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Profile Page</title>
  <style>
    /* General Reset */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: Arial, sans-serif;
    }

    body {
      background-color: #121212;
      color: #fff;
    }

    /* Navbar */
    ::-webkit-scrollbar {
  width: 10px;
}

/* Track */
::-webkit-scrollbar-track {
  background: #f1f1f1; 
}
 
/* Handle */
::-webkit-scrollbar-thumb {
  background: #888; 
}

/* Handle on hover */
::-webkit-scrollbar-thumb:hover {
  background: #555; 
}

        header {
            background: linear-gradient(90deg, #121212, #121212);
            padding: 1rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            color:  #bb86fc;
            border-bottom: 5px #ccc;
        }

        header .logo {
            font-size: 1.5rem;
            font-weight: bold;
        }

        nav {
            display: flex;
            gap: 1.5rem;
        }

        nav a {
            color:  #bb86fc;
            text-decoration: none;
            font-weight: bold;
        }

        nav a:hover {
            text-decoration: underline;
        }

        .logo a{
            text-decoration: none;
            color: #bb86fc;
        }

    /* Profile Section */
    .profile-container {
      max-width: 800px;
      margin: 20px auto;
      padding: 20px;
      background-color: #1a1a1a;
      border-radius: 8px;
      text-align: center;
      border: 1px solid #292929;
    }

    .banner {
      width: 100%;
      height: 150px;
      background-color: #292929;
      border-radius: 8px 8px 0 0;
    }

    .profile-image {
      width: 100px;
      height: 100px;
      border-radius: 50%;
      border: 3px solid #b187ff;
      margin-top: -50px;
    }

    .profile-name {
      font-size: 24px;
      font-weight: bold;
      margin: 10px 0;
    }

    .username {
      font-size: 18px;
      color: #ccc;
      margin-bottom: 10px;
    }

    .role {
      font-size: 16px;
      margin-bottom: 10px;
      color: #8c4caf;
    }

    .skills {
      margin-bottom: 20px;
    }

    .skills span {
      background-color: #292929;
      padding: 5px 10px;
      margin: 5px;
      border-radius: 5px;
      font-size: 14px;
      color: #b187ff;
    }

    .edit-button {
      background-color: #4caf50;
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 5px;
      cursor: pointer;
      font-size: 16px;
    }

    .edit-button:hover {
      opacity: 0.9;
    }

    /* Tabs Section */
    .tabs {
      margin-top: 20px;
    }

    .tab-button {
      padding: 10px 20px;
      border: none;
      background-color: #292929;
      color: #b187ff;
      cursor: pointer;
      font-size: 16px;
      border-radius: 5px 5px 0 0;
      margin-right: 10px;
    }

    .tab-button.active {
      background-color: #964caf;
      color: white;
    }

    .tab-content {
      padding: 20px;
      background-color: #1a1a1a;
      border: 1px solid #292929;
      border-radius: 0 8px 8px 8px;
    }

    /* Projects Section */
    .project-card {
      display: flex;
      align-items: center;
      justify-content: space-between;
      background-color: #292929;
      border: 1px solid #292929;
      border-radius: 8px;
      padding: 15px;
      margin-bottom: 15px;
    }

    .project-thumbnail {
      width: 100px;
      height: 100px;
      border-radius: 8px;
      margin-right: 15px;
      object-fit: cover;
    }

    .project-info {
      flex: 1;
    }

    .project-info h3 {
      font-size: 18px;
      margin-bottom: 5px;
    }

    .project-info p {
      color: #ccc;
      margin-bottom: 10px;
    }

    .project-actions {
      display: flex;
      gap: 10px;
    }

    .project-actions button {
      padding: 5px 10px;
      font-size: 14px;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }

    .view-project-btn {
      background-color: #b187ff;
      color: white;
    }

    .edit-project-btn {
      background-color: #4caf50;
      color: white;
    }

    .delete-project-btn {
      background-color: #e53935;
      color: white;
    }

    /* Floating Add Button */
    .floating-button {
      position: fixed;
      bottom: 20px;
      right: 20px;
      width: 60px;
      height: 60px;
      background-color: #b187ff;
      border-radius: 50%;
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 30px;
      color: #fff;
      cursor: pointer;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
    }

    .floating-button:hover {
      opacity: 0.9;
    }

    /* Modal */
    .modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.8);
      justify-content: center;
      align-items: center;
      z-index: 1000;
    }

    .modal-content {
      background: #1a1a1a;
      padding: 20px;
      border-radius: 8px;
      width: 400px;
      max-width: 90%;
      text-align: center;
    }

    .modal-content h3 {
      color: #b187ff;
      margin-bottom: 20px;
    }

    .modal-content iframe {
      width: 100%;
      height: 300px;
      margin-bottom: 15px;
      border: 1px solid #292929;
      border-radius: 8px;
    }

    .modal-content input,
    .modal-content textarea {
      width: 100%;
      margin-bottom: 10px;
      padding: 10px;
      border: 1px solid #292929;
      border-radius: 5px;
      background-color: #121212;
      color: #fff;
    }

    .modal-content input[type="file"] {
      padding: 5px;
    }

    .modal-content .save-btn,
    .modal-content .add-project-btn {
      background-color: #4caf50;
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 5px;
      cursor: pointer;
    }

    .modal-content .save-btn:hover,
    .modal-content .add-project-btn:hover {
      opacity: 0.9;
    }

    

.banner img {
  width: 100%;   /* Make the image take the full width of the container */
  height: 100%;  /* Make the image take the full height of the container */
  object-fit: cover;  /* This ensures the image covers the div, maintaining aspect ratio */
}
  </style>
</head>
<body>

<!-- Navbar -->
<header>
    <div class="logo"><a href="DevConnex.html">DevConnex.</a></div>
    <nav>
        <a href="profile.html">Home</a>
        <a href="Projects.html">Projects</a>
        <a href="Practice.html">Practice</a>
        <a href="Courses.html">Courses</a>
        <a href="Forums.html">Community</a>
    </nav>
</header>

<!-- Profile Section -->
<div class="profile-container">
  <div class="banner"><img src="banner.jpg"></div>
  <img class="profile-image" src="profile.png" alt="Profile Image" id="profile-img">
  <h2 class="profile-name" id="profile-name">John Doe</h2>
  <p class="username" id="username">@johndoe</p>
  <p class="role" id="role">Developer</p>
  <div class="skills" id="skills">
    <span>HTML</span>
    <span>CSS</span>
    <span>JavaScript</span>
  </div>
  <button class="edit-button" id="edit-profile-btn">Edit Profile</button>
</div>

<!-- Tabs Section -->
<div class="tabs">
  <button class="tab-button active" id="projects-tab">Projects</button>
</div>
<div class="tab-content" id="projects-tab-content">
  <!-- Projects will be dynamically added here -->
</div>

<!-- Floating Add Project Button -->
<div class="floating-button" id="add-project-btn">+</div>

<!-- Modal for Adding/Editing/Viewing Project -->
<div class="modal" id="project-modal">
  <div class="modal-content">
    <h3 id="modal-title">Add New Project</h3>
    <iframe id="project-iframe" style="display: none;"></iframe>
    <input type="file" id="project-file" accept=".html">
    <input type="file" id="project-thumbnail" accept="image/*">
    <input type="text" id="project-name" placeholder="Project Name">
    <textarea id="project-description" placeholder="Project Description"></textarea>
    <button class="add-project-btn" id="modal-save-btn">Save</button>
  </div>
</div>

<!-- Modal for Editing Profile -->
<div class="modal" id="edit-profile-modal">
  <div class="modal-content">
    <h3>Edit Profile</h3>
    <input type="file" id="edit-profile-img" accept="image/*">
    <input type="text" id="edit-name" placeholder="Name">
    <input type="text" id="edit-username" placeholder="Username">
    <input type="text" id="edit-role" placeholder="Role">
    <textarea id="edit-skills" placeholder="Skills (comma-separated)"></textarea>
    <button class="save-btn" id="save-profile-btn">Save</button>
  </div>
</div>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    const editProfileBtn = document.getElementById('edit-profile-btn');
    const editProfileModal = document.getElementById('edit-profile-modal');
    const saveProfileBtn = document.getElementById('save-profile-btn');

    const profileImg = document.getElementById('profile-img');
    const profileName = document.getElementById('profile-name');
    const username = document.getElementById('username');
    const role = document.getElementById('role');
    const skills = document.getElementById('skills');

    // Open the Edit Profile Modal
    editProfileBtn.addEventListener('click', () => {
      editProfileModal.style.display = 'flex';
    });

    // Close the modal when clicking outside
    editProfileModal.addEventListener('click', (e) => {
      if (e.target === editProfileModal) {
        editProfileModal.style.display = 'none';
      }
    });

    // Save Profile Changes
    saveProfileBtn.addEventListener('click', () => {
      const newImgFile = document.getElementById('edit-profile-img').files[0];
      const newName = document.getElementById('edit-name').value.trim();
      const newUsername = document.getElementById('edit-username').value.trim();
      const newRole = document.getElementById('edit-role').value.trim();
      const newSkills = document.getElementById('edit-skills').value.trim().split(',');

      // Update Profile Picture
      if (newImgFile) {
        const imgURL = URL.createObjectURL(newImgFile);
        profileImg.src = imgURL;
      }

      // Update Profile Information
      if (newName) profileName.textContent = newName;
      if (newUsername) username.textContent = `@${newUsername}`;
      if (newRole) role.textContent = newRole;

      // Update Skills
      skills.innerHTML = '';
      newSkills.forEach(skill => {
        const skillSpan = document.createElement('span');
        skillSpan.textContent = skill.trim();
        skills.appendChild(skillSpan);
      });

      // Close Modal
      editProfileModal.style.display = 'none';
    });

    const addProjectBtn = document.getElementById('add-project-btn');
    const projectModal = document.getElementById('project-modal');
    const modalSaveBtn = document.getElementById('modal-save-btn');
    const projectIframe = document.getElementById('project-iframe');
    const projectsTabContent = document.getElementById('projects-tab-content');

    let isEditMode = false;
    let isViewMode = false;
    let editingProject = null;

    const openModal = (mode, project = null) => {
      isEditMode = mode === 'edit';
      isViewMode = mode === 'view';
      editingProject = project;

      const modalTitle = document.getElementById('modal-title');
      modalTitle.textContent = isEditMode
        ? 'Edit Project'
        : isViewMode
        ? 'View Project'
        : 'Add New Project';

      if (isViewMode && project) {
        const iframeSrc = project.dataset.fileUrl;
        projectIframe.src = iframeSrc;
        projectIframe.style.display = 'block';
        modalSaveBtn.style.display = 'none';
      } else {
        projectIframe.style.display = 'none';
        modalSaveBtn.style.display = 'block';
      }

      if (isEditMode && project) {
        document.getElementById('project-name').value = project.querySelector('.project-info h3').textContent;
        document.getElementById('project-description').value = project.querySelector('.project-info p').textContent;
      } else {
        document.getElementById('project-name').value = '';
        document.getElementById('project-description').value = '';
      }

      projectModal.style.display = 'flex';
    };

    const closeModal = () => {
      projectModal.style.display = 'none';
    };

    const addProject = () => {
      const projectName = document.getElementById('project-name').value.trim();
      const projectDescription = document.getElementById('project-description').value.trim();
      const projectFile = document.getElementById('project-file').files[0];
      const projectThumbnail = document.getElementById('project-thumbnail').files[0];

      if (!projectName || !projectDescription || !projectFile || !projectThumbnail) {
        alert('Please fill all fields.');
        return;
      }

      const projectCard = document.createElement('div');
      projectCard.className = 'project-card';
      projectCard.dataset.fileUrl = URL.createObjectURL(projectFile);

      const thumbnail = document.createElement('img');
      thumbnail.className = 'project-thumbnail';
      thumbnail.src = URL.createObjectURL(projectThumbnail);

      const projectInfo = document.createElement('div');
      projectInfo.className = 'project-info';
      projectInfo.innerHTML = `<h3>${projectName}</h3><p>${projectDescription}</p>`;

      const actions = document.createElement('div');
      actions.className = 'project-actions';

      const viewBtn = document.createElement('button');
      viewBtn.className = 'view-project-btn';
      viewBtn.textContent = 'View';
      viewBtn.addEventListener('click', () => openModal('view', projectCard));

      const editBtn = document.createElement('button');
      editBtn.className = 'edit-project-btn';
      editBtn.textContent = 'Edit';
      editBtn.addEventListener('click', () => openModal('edit', projectCard));

      const deleteBtn = document.createElement('button');
      deleteBtn.className = 'delete-project-btn';
      deleteBtn.textContent = 'Delete';
      deleteBtn.addEventListener('click', () => projectCard.remove());

      actions.appendChild(viewBtn);
      actions.appendChild(editBtn);
      actions.appendChild(deleteBtn);

      projectCard.appendChild(thumbnail);
      projectCard.appendChild(projectInfo);
      projectCard.appendChild(actions);

      projectsTabContent.appendChild(projectCard);
      closeModal();
    };

    const editProject = () => {
      if (!editingProject) return;

      const projectName = document.getElementById('project-name').value.trim();
      const projectDescription = document.getElementById('project-description').value.trim();

      if (projectName) editingProject.querySelector('.project-info h3').textContent = projectName;
      if (projectDescription) editingProject.querySelector('.project-info p').textContent = projectDescription;

      closeModal();
    };

    addProjectBtn.addEventListener('click', () => openModal('add'));
    modalSaveBtn.addEventListener('click', () => (isEditMode ? editProject() : addProject()));

    projectModal.addEventListener('click', (e) => {
      if (e.target === projectModal) closeModal();
    });
  });
</script>

</body>
</html>
